<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>A√ßa√≠Stock</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="estilos.css" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: '#6D28D9',
                        secondary: '#9333ea',
                        danger: '#EF4444',
                        "background-light": "#FDF7F4",
                        "background-dark": "#1F2937",
                        "surface-light": "#FFFFFF",
                        "surface-dark": "#374151",
                        "text-light": "#111827",
                        "text-dark": "#F9FAFB",
                        "subtle-light": "#6B7280",
                        "subtle-dark": "#D1D5DB"
                    },
                    fontFamily: {
                        display: ["Poppins", "sans-serif"],
                    },
                    borderRadius: {
                        'DEFAULT': '0.75rem',
                        'lg': '1rem',
                        'xl': '1.25rem',
                    },
                },
            },
        };
    </script>
    <style>
        body {
            font-family: "Poppins", sans-serif;
        }

        .card-actions {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
            pointer-events: none;
        }

        .group:hover .card-actions {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-overlay {
            transition: opacity 0.3s ease;
        }

        .modal-content {
            transition: transform 0.3s ease;
        }

        .loader {
            border-top-color: #6D28D9;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark antialiased">
    <!-- Login -->
    <div id="login-container" class="container">
        <div class="imagem">
            <img src="img/idle/1.png" alt="monster" id="monster" loading="lazy" decoding="async">
        </div>
        <div class="formulario">
            <form id="login-form">
                <h1>Login</h1>
                <label for="input-usuario">Nome de Usu√°rio (Login)</label>
                <div class="input-container">
                    <input type="text" id="input-usuario" placeholder="Digite seu usu√°rio">
                </div>
                <label for="input-clave">Senha de Acesso</label>
                <div class="input-container">
                    <input type="password" id="input-clave" placeholder="Digite sua senha">
                    <span id="toggle-password-login">üëÅÔ∏è</span>
                </div>
                <button type="submit">Entrar</button>
                <button type="button" id="show-register">Cadastrar</button>
            </form>
            <form id="register-form" style="display: none;">
                <h1>Cadastro</h1>
                <label for="register-username">Nome de Usu√°rio (Login)</label>
                <div class="input-container">
                    <input type="text" id="register-username" placeholder="Digite seu usu√°rio">
                </div>
                <label for="register-password">Senha de Acesso</label>
                <div class="input-container">
                    <input type="password" id="register-password" placeholder="Digite sua senha">
                    <span id="toggle-password-register">üëÅÔ∏è</span>
                </div>
                <button type="submit">Cadastrar</button>
                <button type="button" id="show-login">Voltar ao Login</button>
            </form>
        </div>
    </div>

    <!-- Aplica√ß√£o -->
    <div id="app-container" class="hidden">
        <div class="app-shell bg-background-light dark:bg-background-dark">
            <!-- Sidebar -->
            <aside id="sidebar" class="app-sidebar bg-primary text-white" aria-label="Menu principal">
                <div class="px-6 py-8 flex items-center justify-between">
                    <h1 class="text-2xl font-bold">A√ßa√≠Stock</h1>
                    <button type="button" class="mobile-menu-close sm:hidden p-2 rounded-full hover:bg-primary/80 transition" aria-label="Fechar menu">
                        <span class="material-icons">close</span>
                    </button>
                </div>
                <nav id="main-menu" class="flex-1 px-4 space-y-2 overflow-y-auto">
                    <a id="home-menu-item" data-page="home-page" class="flex items-center gap-4 px-4 py-3 rounded-lg" href="#">
                        <span class="material-icons">dashboard</span>
                        <span class="font-medium">In√≠cio</span>
                    </a>
                    <a id="stock-menu-item" data-page="stock-page" class="flex items-center gap-4 px-4 py-3 rounded-lg" href="#">
                        <span class="material-icons">inventory_2</span>
                        <span class="font-medium">Estoque</span>
                    </a>
                    <a id="add-product-link" class="flex items-center gap-4 pl-12 pr-4 py-3 rounded-lg cursor-pointer" href="#">
                        <span class="material-icons">add_circle_outline</span>
                        <span class="font-medium">Adicionar</span>
                    </a>
                    <a id="moves-menu-item" data-page="moves-page" class="flex items-center gap-4 px-4 py-3 rounded-lg" href="#">
                        <span class="material-icons">swap_horiz</span>
                        <span class="font-medium">Movimenta√ß√µes</span>
                    </a>
                    <a id="reports-menu-item" data-page="reports-page" class="flex items-center gap-4 px-4 py-3 rounded-lg" href="#">
                        <span class="material-icons">assessment</span>
                        <span class="font-medium">Relat√≥rios</span>
                    </a>
                </nav>
            </aside>
            <div id="sidebar-backdrop" class="app-sidebar-backdrop"></div>

            <!-- Main Content -->
            <div id="main-content" class="flex-1 flex flex-col overflow-hidden min-h-0">

                <!-- Home Page -->
                <div id="home-page" class="page-content flex-1 flex flex-col min-h-0">
                    <header class="flex items-center justify-between p-6 bg-surface-light dark:bg-surface-dark border-b border-gray-200 dark:border-gray-700">
                        <div class="flex items-center gap-3">
                            <button type="button" class="mobile-menu-toggle sm:hidden p-2 rounded-full border border-white/30 bg-primary/90 text-white shadow-md" aria-label="Abrir menu" aria-controls="sidebar">
                                <span class="material-icons">menu</span>
                            </button>
                            <div>
                            <h2 class="text-2xl font-bold">Dashboard</h2>
                            <p class="text-subtle-light dark:text-subtle-dark" id="home-greeting">Bem-vindo!</p>
                            </div>
                        </div>
                        <div class="relative">
                            <button class="user-menu-button flex items-center gap-3 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                                <img src="https://placehold.co/40x40/6D28D9/FFFFFF?text=U" alt="Avatar do Usu√°rio" class="user-avatar-img w-10 h-10 rounded-full object-cover" loading="lazy" decoding="async" data-fallback-src="img/placeholders/avatar-placeholder.svg" onerror="if(!this.dataset.fallbackApplied){this.dataset.fallbackApplied='true';this.src=this.dataset.fallbackSrc;}">
                                <span class="font-medium hidden md:block" id="home-user-name">Usu√°rio</span>
                                <span class="material-icons text-subtle-light dark:text-subtle-dark">expand_more</span>
                            </button>
                            <div class="user-dropdown-menu hidden absolute right-0 mt-2 w-48 bg-surface-light dark:bg-surface-dark rounded-lg shadow-xl z-10 border border-gray-200 dark:border-gray-600">
                                <a href="#" class="profile-link block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600">Perfil</a>
                                <a href="#" data-page="approve-page" class="approve-link block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600">Aprovar Cadastro</a>
                                <div class="border-t border-gray-200 dark:border-gray-600"></div>
                                <a href="#" class="logout-link block px-4 py-2 text-sm text-danger dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20">Sair</a>
                            </div>
                        </div>
                    </header>
                    <div class="flex-1 p-8 overflow-y-auto">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                            <div id="home-card-total-stock" class="bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-sm flex items-start justify-between cursor-pointer hover:shadow-lg transition-shadow">
                                <div>
                                    <p class="text-sm font-medium text-subtle-light dark:text-subtle-dark">Itens em Estoque</p>
                                    <p id="home-kpi-total-stock" class="text-3xl font-bold mt-1">0</p>
                                </div>
                                <div class="bg-primary/10 text-primary p-3 rounded-lg">
                                    <span class="material-icons">inventory_2</span>
                                </div>
                            </div>
                            <div id="home-card-low-stock" class="bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-sm flex items-start justify-between cursor-pointer hover:shadow-lg transition-shadow">
                                <div>
                                    <p class="text-sm font-medium text-subtle-light dark:text-subtle-dark">Estoque Baixo</p>
                                    <p id="home-kpi-low-stock" class="text-3xl font-bold mt-1">0</p>
                                </div>
                                <div class="bg-yellow-500/10 text-yellow-500 p-3 rounded-lg">
                                    <span class="material-icons">warning</span>
                                </div>
                            </div>
                            <div id="home-card-expiring" class="bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-sm flex items-start justify-between cursor-pointer hover:shadow-lg transition-shadow">
                                <div>
                                    <p class="text-sm font-medium text-subtle-light dark:text-subtle-dark">Itens Vencendo</p>
                                    <p id="home-kpi-expiring" class="text-3xl font-bold mt-1">0</p>
                                </div>
                                <div class="bg-red-500/10 text-danger p-3 rounded-lg">
                                    <span class="material-icons">event_busy</span>
                                </div>
                            </div>
                            <div class="bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-sm flex items-start justify-between">
                                <div>
                                    <p class="text-sm font-medium text-subtle-light dark:text-subtle-dark">Valor do Estoque</p>
                                    <p id="home-kpi-stock-value" class="text-3xl font-bold mt-1">R$ 0,00</p>
                                </div>
                                <div class="bg-green-500/10 text-green-500 p-3 rounded-lg">
                                    <span class="material-icons">attach_money</span>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <div id="recent-activity" class="lg:col-span-2 bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-sm">
                                <h3 class="text-lg font-semibold text-text-light dark:text-text-dark mb-4">Atividade Recente</h3>
                                <div id="recent-activity-list" class="space-y-4"></div>
                            </div>
                            <div class="bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-sm">
                                <h3 class="text-lg font-semibold mb-4">A√ß√µes R√°pidas</h3>
                                <div class="space-y-3">
                                    <button id="quick-add-product" class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary/90 transition-colors shadow-sm">
                                        <span class="material-icons">add_circle_outline</span>
                                        Novo Produto
                                    </button>
                                    <button id="quick-export-report" class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors">
                                        <span class="material-icons">file_download</span>
                                        Exportar Relat√≥rio
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stock Page -->
                <div id="stock-page" class="page-content flex-1 flex flex-col hidden min-h-0">
                    <header class="flex justify-between items-center p-6 bg-surface-light dark:bg-surface-dark border-b dark:border-gray-700">
                        <div class="flex items-center gap-3">
                            <button type="button" class="mobile-menu-toggle sm:hidden p-2 rounded-full border border-white/30 bg-primary/90 text-white shadow-md" aria-label="Abrir menu" aria-controls="sidebar">
                                <span class="material-icons">menu</span>
                            </button>
                            <h1 class="text-2xl font-bold">Estoque</h1>
                        </div>
                        <div class="relative">
                            <button class="user-menu-button flex items-center gap-3 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                                <img src="https://placehold.co/40x40/6D28D9/FFFFFF?text=U" alt="Avatar do Usu√°rio" class="user-avatar-img w-10 h-10 rounded-full object-cover" loading="lazy" decoding="async" data-fallback-src="img/placeholders/avatar-placeholder.svg" onerror="if(!this.dataset.fallbackApplied){this.dataset.fallbackApplied='true';this.src=this.dataset.fallbackSrc;}">
                                <span class="font-medium hidden md:block">Usu√°rio</span>
                                <span class="material-icons text-subtle-light dark:text-subtle-dark">expand_more</span>
                            </button>
                            <div class="user-dropdown-menu hidden absolute right-0 mt-2 w-48 bg-surface-light dark:bg-surface-dark rounded-lg shadow-xl z-10 border border-gray-200 dark:border-gray-600">
                                <a href="#" class="profile-link block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600">Perfil</a>
                                <a href="#" data-page="approve-page" class="approve-link block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600">Aprovar Cadastro</a>
                                <div class="border-t border-gray-200 dark:border-gray-600"></div>
                                <a href="#" class="logout-link block px-4 py-2 text-sm text-danger dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20">Sair</a>
                            </div>
                        </div>
                    </header>
                    <div class="p-6 bg-surface-light dark:bg-surface-dark">
                        <div class="flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 gap-4">
                            <div class="relative flex-1 md:max-w-md">
                                <span class="material-icons absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">search</span>
                                <input id="search-input" class="w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-primary focus:border-primary bg-background-light dark:bg-background-dark" placeholder="Buscar..." type="text" />
                            </div>
                            <div class="flex items-center space-x-2 flex-wrap gap-2">
                                <div id="filter-buttons" class="flex items-center space-x-2">
                                    <button data-filter="all" class="filter-btn px-4 py-2 rounded-lg text-sm font-medium">Todos</button>
                                    <button data-filter="low_stock" class="filter-btn px-4 py-2 rounded-lg text-sm font-medium">Estoque Baixo</button>
                                    <button data-filter="expiring_soon" class="filter-btn px-4 py-2 rounded-lg text-sm font-medium">Vencendo</button>
                                </div>
                                <button id="clear-filters-btn" class="px-4 py-2 rounded-lg text-sm font-medium bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors">
                                    Limpar filtros
                                </button>
                                <div class="flex items-center border border-gray-300 dark:border-gray-700 rounded-lg">
                                    <button id="grid-view-btn" class="p-2"><span class="material-icons">grid_view</span></button>
                                    <button id="list-view-btn" class="p-2"><span class="material-icons">view_list</span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="product-container" class="flex-1 p-6 overflow-y-auto bg-background-light dark:bg-background-dark flex flex-col">
                        <div id="product-grid" class="flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6 content-start"></div>
                        <div id="pagination-controls" class="flex justify-center items-center mt-8 space-x-2"></div>
                    </div>
                </div>

                <!-- Reports Page -->
                <div id="reports-page" class="page-content hidden flex-1 flex flex-col min-h-0">
                    <header class="flex justify-between items-center p-6 bg-surface-light dark:bg-surface-dark border-b dark:border-gray-700">
                        <div class="flex items-center gap-3">
                            <button type="button" class="mobile-menu-toggle sm:hidden p-2 rounded-full border border-white/30 bg-primary/90 text-white shadow-md" aria-label="Abrir menu" aria-controls="sidebar">
                                <span class="material-icons">menu</span>
                            </button>
                            <h1 class="text-2xl font-bold">Relat√≥rios</h1>
                        </div>
                        <div class="relative">
                            <button class="user-menu-button flex items-center gap-3 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                                <img src="https://placehold.co/40x40/6D28D9/FFFFFF?text=U" alt="Avatar do Usu√°rio" class="user-avatar-img w-10 h-10 rounded-full object-cover" loading="lazy" decoding="async" data-fallback-src="img/placeholders/avatar-placeholder.svg" onerror="if(!this.dataset.fallbackApplied){this.dataset.fallbackApplied='true';this.src=this.dataset.fallbackSrc;}">
                                <span class="font-medium hidden md:block">Usu√°rio</span>
                                <span class="material-icons text-subtle-light dark:text-subtle-dark">expand_more</span>
                            </button>
                            <div class="user-dropdown-menu hidden absolute right-0 mt-2 w-48 bg-surface-light dark:bg-surface-dark rounded-lg shadow-xl z-10 border border-gray-200 dark:border-gray-600">
                                <a href="#" class="profile-link block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600">Perfil</a>
                                <a href="#" data-page="approve-page" class="approve-link block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600">Aprovar Cadastro</a>
                                <div class="border-t border-gray-200 dark:border-gray-600"></div>
                                <a href="#" class="logout-link block px-4 py-2 text-sm text-danger dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20">Sair</a>
                            </div>
                        </div>
                    </header>
                    <div class="flex-1 p-8 overflow-y-auto bg-background-light dark:bg-background-dark">
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                            <div class="bg-surface-light dark:bg-surface-dark p-5 rounded-xl shadow-sm flex items-center">
                                <div class="p-3 rounded-full bg-green-500/10">
                                    <span class="material-icons text-2xl text-green-500">arrow_downward</span>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-subtle-light dark:text-subtle-dark">Total de Entradas</p>
                                    <p id="kpi-inputs" class="text-2xl font-bold">0</p>
                                </div>
                            </div>
                            <div class="bg-surface-light dark:bg-surface-dark p-5 rounded-xl shadow-sm flex items-center">
                                <div class="p-3 rounded-full bg-red-500/10">
                                    <span class="material-icons text-2xl text-danger">arrow_upward</span>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-subtle-light dark:text-subtle-dark">Total de Sa√≠das</p>
                                    <p id="kpi-outputs" class="text-2xl font-bold">0</p>
                                </div>
                            </div>
                            <div class="bg-surface-light dark:bg-surface-dark p-5 rounded-xl shadow-sm flex items-center">
                                <div class="p-3 rounded-full bg-primary/10">
                                    <span class="material-icons text-2xl text-primary">inventory</span>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-subtle-light dark:text-subtle-dark">Estoque Atual</p>
                                    <p id="kpi-total-stock" class="text-2xl font-bold">0 un.</p>
                                </div>
                            </div>
                            <div class="bg-surface-light dark:bg-surface-dark p-5 rounded-xl shadow-sm flex items-center">
                                <div class="p-3 rounded-full bg-yellow-500/10">
                                    <span class="material-icons text-2xl text-yellow-500">warning</span>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-subtle-light dark:text-subtle-dark">Alertas (Venc.)</p>
                                    <p id="kpi-expiring" class="text-2xl font-bold">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div class="bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-sm h-96">
                                <h3 class="font-semibold text-lg mb-4">Estoque por Produto</h3>
                                <canvas id="stock-by-product-chart"></canvas>
                            </div>
                            <div class="bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-sm h-96">
                                <h3 class="font-semibold text-lg mb-4">Distribui√ß√£o por Tipo</h3>
                                <canvas id="stock-by-type-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Approve Page -->
                <div id="approve-page" class="page-content hidden flex-1 flex flex-col min-h-0">
                    <header class="flex justify-between items-center p-6 bg-surface-light dark:bg-surface-dark border-b dark:border-gray-700">
                        <div class="flex items-center gap-3">
                            <button type="button" class="mobile-menu-toggle sm:hidden p-2 rounded-full border border-white/30 bg-primary/90 text-white shadow-md" aria-label="Abrir menu" aria-controls="sidebar">
                                <span class="material-icons">menu</span>
                            </button>
                            <h1 class="text-2xl font-bold text-text-light dark:text-text-dark">Gerenciar Cadastros</h1>
                        </div>
                        <div class="relative">
                            <button class="user-menu-button flex items-center gap-3 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                                <img src="https://placehold.co/40x40/6D28D9/FFFFFF?text=U" alt="Avatar do Usu√°rio" class="user-avatar-img w-10 h-10 rounded-full object-cover" loading="lazy" decoding="async" data-fallback-src="img/placeholders/avatar-placeholder.svg" onerror="if(!this.dataset.fallbackApplied){this.dataset.fallbackApplied='true';this.src=this.dataset.fallbackSrc;}">
                                <span class="font-medium hidden md:block">Usu√°rio</span>
                                <span class="material-icons text-subtle-light dark:text-subtle-dark">expand_more</span>
                            </button>
                            <div class="user-dropdown-menu hidden absolute right-0 mt-2 w-48 bg-surface-light dark:bg-surface-dark rounded-lg shadow-xl z-10 border border-gray-200 dark:border-gray-600">
                                <a href="#" class="profile-link block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600">Perfil</a>
                                <a href="#" data-page="approve-page" class="approve-link block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600">Aprovar Cadastro</a>
                                <div class="border-t border-gray-200 dark:border-gray-600"></div>
                                <a href="#" class="logout-link block px-4 py-2 text-sm text-danger dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20">Sair</a>
                            </div>
                        </div>
                    </header>
                    <div class="flex-1 p-8 overflow-y-auto bg-background-light dark:bg-background-dark space-y-8">
                        <div>
                            <h2 class="text-lg font-semibold mb-4 text-text-light dark:text-text-dark">Aguardando Aprova√ß√£o</h2>
                            <div id="pending-users-list" class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm p-4 space-y-3"></div>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold mb-4 text-text-light dark:text-text-dark">Usu√°rios Ativos</h2>
                            <div id="active-users-list" class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm p-4 space-y-3"></div>
                        </div>
                    </div>
                </div>

                <!-- Moves Page -->
                <div id="moves-page" class="page-content hidden flex-1 flex flex-col min-h-0">
                    <header class="flex justify-between items-center p-6 bg-surface-light dark:bg-surface-dark border-b dark:border-gray-700">
                        <div class="flex items-center gap-3">
                            <button type="button" class="mobile-menu-toggle sm:hidden p-2 rounded-full border border-white/30 bg-primary/90 text-white shadow-md" aria-label="Abrir menu" aria-controls="sidebar">
                                <span class="material-icons">menu</span>
                            </button>
                            <h1 class="text-2xl font-bold">Movimenta√ß√µes</h1>
                        </div>
                    </header>
                    <div class="flex-1 p-8 bg-background-light dark:bg-background-dark overflow-y-auto">
                        <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm p-6">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                <div>
                                    <label for="mov-inicio" class="block text-sm font-medium mb-1">Data Inicial</label>
                                    <input type="date" id="mov-inicio" class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark" />
                                </div>
                                <div>
                                    <label for="mov-fim" class="block text-sm font-medium mb-1">Data Final</label>
                                    <input type="date" id="mov-fim" class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark" />
                                </div>
                                <div class="flex items-end">
                                    <button id="filtrar-mov-btn" class="w-full md:w-auto px-4 py-2 bg-primary text-white rounded-lg">Filtrar</button>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm">
                                    <thead class="bg-gray-50 dark:bg-gray-800">
                                        <tr>
                                            <th class="px-4 py-2 text-left font-medium">Data</th>
                                            <th class="px-4 py-2 text-left font-medium">Usu√°rio</th>
                                            <th class="px-4 py-2 text-left font-medium">Produto</th>
                                            <th class="px-4 py-2 text-left font-medium">Tipo</th>
                                            <th class="px-4 py-2 text-left font-medium">Qtd. Antes</th>
                                            <th class="px-4 py-2 text-left font-medium">Quantidade</th>
                                            <th class="px-4 py-2 text-left font-medium">Total Atual</th>
                                            <th class="px-4 py-2 text-left font-medium">Motivo</th>
                                        </tr>
                                    </thead>
                                    <tbody id="movimentacoes-table-body" class="divide-y divide-gray-200 dark:divide-gray-700"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modais -->
    <div id="profile-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-md">
            <header class="flex items-center justify-between p-4 border-b dark:border-gray-700">
                <h2 class="text-xl font-bold flex items-center gap-2">
                    <span class="material-icons">person</span>
                    <span>Meu Perfil</span>
                </h2>
                <button data-close-modal="profile-modal" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700">
                    <span class="material-icons">close</span>
                </button>
            </header>
            <main class="p-6 space-y-4 flex flex-col items-center">
                <img id="profile-modal-image" src="" alt="Foto de Perfil" class="w-32 h-32 rounded-full object-cover mb-4 border-4 border-primary" loading="lazy" decoding="async" data-fallback-src="img/placeholders/avatar-placeholder.svg" onerror="if(!this.dataset.fallbackApplied){this.dataset.fallbackApplied='true';this.src=this.dataset.fallbackSrc;}">
                <label for="profile-image-upload" class="cursor-pointer bg-secondary text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-secondary/90">
                    Alterar Foto
                    <input type="file" name="profile_image" id="profile-image-upload" class="hidden" accept="image/*">
                </label>
            </main>
            <footer class="flex justify-end p-4 bg-gray-50 dark:bg-gray-800 space-x-2">
                <button type="button" data-close-modal="profile-modal" class="px-4 py-2 rounded-lg">Fechar</button>
                <button id="save-profile-btn" type="button" class="px-4 py-2 bg-primary text-white rounded-lg">Salvar</button>
            </footer>
        </div>
    </div>

    <div id="add-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-lg">
            <header class="flex items-center justify-between p-4 border-b dark:border-gray-700">
                <h2 class="text-xl font-bold flex items-center gap-2">
                    <span class="material-icons">add_circle</span>
                    <span>Adicionar Produto</span>
                </h2>
                <button data-close-modal="add-modal" class="p-2 rounded-full">
                    <span class="material-icons">close</span>
                </button>
            </header>
            <form id="add-form">
                <main class="p-6 space-y-4">
                    <label class="block text-sm font-medium">Imagem
                        <input type="file" name="image" id="add-image" class="w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:font-semibold file:bg-violet-50 file:text-primary hover:file:bg-violet-100">
                        <img id="add-image-preview" src="https://placehold.co/100x100/E2E8F0/4A5568?text=Preview" alt="Preview" class="mt-2 rounded-md h-24 w-24 object-cover hidden" loading="lazy" decoding="async" data-fallback-src="img/placeholders/product-placeholder.svg" onerror="if(!this.dataset.fallbackApplied){this.dataset.fallbackApplied='true';this.src=this.dataset.fallbackSrc;}">
                    </label>
                    <label class="block text-sm font-medium">Tipo
                        <select name="type" id="add-type" required class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark">
                            <option value="A√ßa√≠">A√ßa√≠</option>
                            <option value="Sorvete">Sorvete</option>
                            <option value="Complemento">Complemento</option>
                            <option value="Bebida">Bebida</option>
                        </select>
                    </label>
                    <label class="block text-sm font-medium">Nome
                        <input type="text" name="name" id="add-name" required class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark">
                    </label>
                    <label class="block text-sm font-medium">Lote
                        <input type="text" name="lot" id="add-lot" required class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark">
                    </label>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <label class="block text-sm font-medium">Quantidade
                            <input type="number" name="quantity" id="add-quantity" required class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark" min="0">
                        </label>
                        <label class="block text-sm font-medium">Validade
                            <input type="date" name="expiryDate" id="add-expiryDate" class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark">
                        </label>
                        <label class="block text-sm font-medium">Valor(R$)
                            <input type="number" name="cost" id="add-cost" required step="0.01" min="0" class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark" placeholder="Ex.: 15.90">
                        </label>
                    </div>
                </main>
                <footer class="flex justify-end p-4 bg-gray-50 dark:bg-gray-800 space-x-2">
                    <button type="button" data-close-modal="add-modal" class="px-4 py-2 rounded-lg">Cancelar</button>
                    <button type="submit" class="px-4 py-2 bg-primary text-white rounded-lg">Adicionar</button>
                </footer>
            </form>
        </div>
    </div>

    <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-md">
            <header class="flex items-center justify-between p-4 border-b dark:border-gray-700">
                <h2 class="text-xl font-bold flex items-center gap-2">
                    <span class="material-icons">edit</span>
                    <span>Editar Produto</span>
                </h2>
                <button data-close-modal="edit-modal" class="p-2 rounded-full">
                    <span class="material-icons">close</span>
                </button>
            </header>
            <form id="edit-form">
                <main class="p-4 space-y-4">
                    <input type="hidden" id="edit-id" name="id">
                    <label class="block text-sm font-medium">Imagem
                        <input type="file" name="image" id="edit-image" class="w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:font-semibold file:bg-violet-50 file:text-primary hover:file:bg-violet-100">
                        <img id="edit-image-preview" src="https://placehold.co/100x100/E2E8F0/4A5568?text=Preview" alt="Preview" class="mt-2 rounded-md h-24 w-24 object-cover hidden" loading="lazy" decoding="async" data-fallback-src="img/placeholders/product-placeholder.svg" onerror="if(!this.dataset.fallbackApplied){this.dataset.fallbackApplied='true';this.src=this.dataset.fallbackSrc;}">
                    </label>
                    <label class="block text-sm font-medium">Tipo
                        <select name="type" id="edit-type" required class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark">
                            <option value="A√ßa√≠">A√ßa√≠</option>
                            <option value="Sorvete">Sorvete</option>
                            <option value="Complemento">Complemento</option>
                            <option value="Bebida">Bebida</option>
                        </select>
                    </label>
                    <label class="block text-sm font-medium">Nome
                        <input type="text" name="name" id="edit-name" required class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark">
                    </label>
                    <label class="block text-sm font-medium">Lote
                        <input type="text" name="lot" id="edit-lot" required class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark">
                    </label>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <label class="block text-sm font-medium">Quantidade
                            <input type="number" name="quantity" id="edit-quantity" required class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark" min="0">
                        </label>
                        <label class="block text-sm font-medium">Validade
                            <input type="date" name="expiryDate" id="edit-expiryDate" class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark">
                        </label>
                        <label class="block text-sm font-medium">Valor(R$)
                            <input type="number" name="cost" id="edit-cost" required step="0.01" min="0" class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark" placeholder="Ex.: 15.90">
                        </label>
                    </div>
                </main>
                <footer class="flex justify-end p-4 bg-gray-50 dark:bg-gray-800 space-x-2">
                    <button type="button" data-close-modal="edit-modal" class="px-4 py-2 rounded-lg">Cancelar</button>
                    <button type="submit" class="px-4 py-2 bg-primary text-white rounded-lg">Salvar</button>
                </footer>
            </form>
        </div>
    </div>

    <div id="delete-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-md">
            <header class="flex items-center p-4">
                <span class="material-icons text-danger text-2xl mr-3">warning</span>
                <h2 class="text-xl font-bold">Confirmar Exclus√£o</h2>
            </header>
            <main class="p-6 pt-0">
                <p>Excluir "<strong id="delete-product-name"></strong>"?</p>
                <label class="block text-sm font-medium mt-4">Motivo
                    <input type="text" id="delete-reason" class="w-full border rounded-lg p-2 bg-background-light dark:bg-background-dark" placeholder="Informe o motivo da exclus√£o" />
                </label>
            </main>
            <footer class="flex justify-end p-4 bg-gray-50 dark:bg-gray-800 space-x-2">
                <button type="button" data-close-modal="delete-modal" class="px-4 py-2 rounded-lg">Cancelar</button>
                <button id="confirm-delete-btn" type="button" class="px-4 py-2 bg-danger text-white rounded-lg">Excluir</button>
            </footer>
        </div>
    </div>

    <div id="loader" class="fixed inset-0 bg-black bg-opacity-30 z-[60] flex items-center justify-center hidden">
        <div class="loader h-16 w-16 rounded-full border-4 border-t-4 border-gray-200"></div>
    </div>

    <script defer src="https://cdn.jsdelivr.net/npm/chart.js" onerror="this.onerror=null;this.src='vendor/chart.umd.min.js';"></script>
    <script src="/socket.io/socket.io.js" defer></script>
    <script defer src="javascript.js"></script>
</body>
</html>
